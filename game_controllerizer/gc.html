<!-- ----------------------------------------------------------------------------------- -->

<script type="text/javascript">
    RED.nodes.registerType('gamepad',{
        category: 'Game_control',
        color: '#F1BC03',
        defaults: {
            name: {value:""},
            dpad: {value: 5,required:true},
            button: {value: 0,required:true},
            pos0x: {value: 0,required:true},
            pos0y: {value: 0,required:true},
            pos1x: {value: 0,required:true},
            pos1y: {value: 0,required:true},
            mode: {value: 3,required:true}
        },
        inputs:1,
        outputs:1,
        icon: "inject.png",
        label: function() {
            return this.name||"Gamepad control";
        }
    });
</script>

<script type="text/x-red" data-template-name="gamepad">
    <div class="form-row">
        <label for="node-input-dpad"><i class="fa fa-arrows"></i> DPAD</label>
        <select id="node-input-dpad">
            <option value=1>⬋ LeftBottom</option>
            <option value=2>⬇ Bottom</option>
            <option value=3>⬊ RightButtom</option>
            <option value=4>⬅ LeftMiddle</option>
            <option value=5>●  Neutral</option>
            <option value=6>➡ RightMiddle</option>
            <option value=7>⬉ LeftTop</option>
            <option value=8>⬆ Top</option>
            <option value=9>⬈ RightTop</option>
		</select>
	</div>
    <div class="form-row">
        <label for="node-input-button"><i class="fa fa-gamepad"></i> Button</label>
        <select id="node-input-button">
            <option value=0>Button-0</option>
            <option value=1>Button-1</option>
            <option value=2>Button-2</option>
            <option value=3>Button-3</option>
            <option value=4>Button-4</option>
            <option value=5>Button-5</option>
            <option value=6>Button-6</option>
            <option value=7>Button-7</option>
            <option value=8>Button-8</option>
            <option value=9>Button-9</option>
            <option value=10>Button-10</option>
            <option value=11>Button-11</option>
            <option value=-1>None</option>
        </select>
    </div>
    <div class="form-row">
        <label><i class="fa fa-plus-circle"></i> Stick(left)</label>
        X <input type="number" id="node-input-pos0x" min=-127 max=127 value=0 style="width:145px;">
        Y <input type="number" id="node-input-pos0y" min=-127 max=127 value=0 style="width:145px;">
    </div>
    <div class="form-row">
        <label><i class="fa fa-plus-circle"></i> Stick(right)</label>
        X <input type="number" id="node-input-pos1x" min=-127 max=127 value=0 style="width:145px;">
        Y <input type="number" id="node-input-pos1y" min=-127 max=127 value=0 style="width:145px;">
    </div>
    <div class="form-row">
        <label for="node-input-mode"><i class="fa fa-sign-out"></i> Input mode</label>
        <select id="node-input-mode">
            <option value=3>Push</option>
            <option value=-1>Hold</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>        
    <div class="form-tips">
		<b>Tip:</b> Gamepad control.  
		Stick X/Y range = [-127:127].
    </div>
</script>

<script type="text/x-red" data-help-name="gamepad">
    <p>Gamepad control.</p>
</script>


<!-- ----------------------------------------------------------------------------------- -->
<script type="text/javascript">
    RED.nodes.registerType('button',{
        category: 'Game_control',
        color: '#F1BC03',
        defaults: {
			name: {value:""},
			button: {value:0,required:true},
            mode: {value:"push",required:true}
		},
        inputs:1,
        outputs:1,
        icon: "inject.png",
        label: function() {
            return this.name||"Button control";
        }
    });
</script>

<script type="text/x-red" data-template-name="button">
    <div class="form-row">
        <label for="node-input-button"><i class="fa fa-gamepad"></i> Button</label>
        <select id="node-input-button">
            <option value=0>Button-0</option>
            <option value=1>Button-1</option>
            <option value=2>Button-2</option>
            <option value=3>Button-3</option>
            <option value=4>Button-4</option>
            <option value=5>Button-5</option>
            <option value=6>Button-6</option>
            <option value=7>Button-7</option>
            <option value=8>Button-8</option>
            <option value=9>Button-9</option>
            <option value=10>Button-10</option>
            <option value=11>Button-11</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-mode"><i class="fa fa-sign-out"></i> Input mode</label>
        <select id="node-input-mode">
            <option value="push">Push</option>
            <option value="hold">Hold</option>
            <option value="release">Release</option>
        </select>
    </div>	
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
	</div>
	<div class="form-tips">
        <b>Tip:</b> Individual Button control
	</div>
</script>
<script type="text/x-red" data-help-name="button">
    <p>Individual Button control.</p>
</script>

<!-- ----------------------------------------------------------------------------------- -->
<script type="text/javascript">
    RED.nodes.registerType('dpad',{
        category: 'Game_control',
        color: '#F1BC03',
        defaults: {
			name: {value:""},
			dpad: {value:5,required:true},
            mode: {value:-1,required:true}
		},
        inputs:1,
        outputs:1,
        icon: "inject.png",
        label: function() {
            return this.name||"DPAD control";
        }
    });
</script>

<script type="text/x-red" data-template-name="dpad">
    <div class="form-row">
        <label for="node-input-dpad"><i class="fa fa-arrows"></i> DPAD</label>
        <select id="node-input-dpad">
            <option value=1>⬋ LeftBottom</option>
            <option value=2>⬇ Bottom</option>
            <option value=3>⬊ RightButtom</option>
            <option value=4>⬅ LeftMiddle</option>
            <option value=5>●  Neutral</option>
            <option value=6>➡ RightMiddle</option>
            <option value=7>⬉ LeftTop</option>
            <option value=8>⬆ Top</option>
            <option value=9>⬈ RightTop</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-mode"><i class="fa fa-sign-out"></i> Input mode</label>
        <select id="node-input-mode">
            <option value=3>Push</option>
            <option value=-1>Hold</option>
        </select>
    </div>	
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
	</div>
	<!-- <div class="form-tips">
        <b>Tip:</b> DPAD control
	</div> -->
</script>
<!-- <script type="text/x-red" data-help-name="dpad">
    <p>DPAD control.</p>
</script> -->

<!-- ----------------------------------------------------------------------------------- -->
<script type="text/javascript">
    RED.nodes.registerType('stick',{
        category: 'Game_control',
        color: '#F1BC03',
        defaults: {
			name: {value:""},
			stick: {value:0,required:true},
			posx: {value:0,required:true},
			posy: {value:0,required:true},
            mode: {value:-1,required:true}
		},
        inputs:1,
        outputs:1,
        icon: "inject.png",
        label: function() {
            return this.name||"Stick control";
        }
    });
</script>

<script type="text/x-red" data-template-name="stick">
    <div class="form-row">
        <label for="node-input-stick"><i class="fa fa-plus-circle"></i> Stick</label>
        <select id="node-input-stick">
            <option value=0>Left</option>
            <option value=1>Right</option>
        </select>
    </div>
	<div class="form-row">
        <label><i class="fa fa-plus-circle"></i> Position</label>
        X <input type="number" id="node-input-posx" min=-127 max=127 value=0 style="width:95px;">
        Y <input type="number" id="node-input-posy" min=-127 max=127 value=0 style="width:95px;">
    </div>
    <div class="form-row">
        <label for="node-input-mode"><i class="fa fa-sign-out"></i> Input mode</label>
        <select id="node-input-mode">
            <option value=3>Push</option>
            <option value=-1>Hold</option>
        </select>
    </div>	
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
	</div>
	<!-- <div class="form-tips">
        <b>Tip:</b> Stick control
	</div> -->
</script>
<!-- <script type="text/x-red" data-help-name="stick">
    <p>Stick control.</p>
</script> -->

<!-- ----------------------------------------------------------------------------------- -->
<script type="text/javascript">
    RED.nodes.registerType('input-config',{
        category: 'Game_control',
        color: '#F1BC03',
        defaults: {
			name: {value:""},
			ctarget: {value:"dpad", required:true},
			cmap: {value:0, required:true}
		},
        inputs:1,
        outputs:1,
        icon: "inject.png",
        label: function() {
            return this.name||"Input config";
        }
    });
</script>

<script type="text/x-red" data-template-name="input-config">
    <div class="form-row">
        <label for="node-input-ctarget"><i class="fa fa-gamepad"></i> Target</label>
        <select id="node-input-ctarget">
            <option value="dpad">DPAD</option>
            <option value="stk0">Stick (left)</option>
            <option value="stk1">Stick (right)</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-cmap"><i class="fa fa-random"></i> Mapping</label>
        <select id="node-input-cmap">
            <option value=0>Normal</option>
            <option value=1>Reverse</option>
            <option value=2>The other</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
	</div>
    <div class="form-tips">
        <b>Tip:</b> L-R input config.<br>
    </div>
</script>
<script type="text/x-red" data-help-name="input-config">
    <p>L-R input config.</p>
</script>


<!-- ----------------------------------------------------------------------------------- -->
<script type="text/javascript">
    RED.nodes.registerType('wait',{
        category: 'Game_control',
        color: '#F1BC03',
        defaults: {
			name: {value:""},
			dur: {value:3,required:true},
		},
        inputs:1,
        outputs:1,
        icon: "inject.png",
        label: function() {
            return this.name||"Wait N-frame";
        }
    });
</script>

<script type="text/x-red" data-template-name="wait">
    <div class="form-row">
		<label for="node-input-mode"><i class="fa fa-clock-o"></i> Duration</label>
		<input type="number" id="node-input-dur" min=1 max=127 value=3>
    </div>	
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
	</div>
	<div class="form-tips">
        <b>Tip:</b> Wait N-frames (1 frame = 1/60 sec). Duration range = [1:127].
	</div>
</script>
<!-- <script type="text/x-red" data-help-name="dpad">
    <p>DPAD control.</p>
</script> -->

<!-- ----------------------------------------------------------------------------------- -->

<script type="text/javascript">
    RED.nodes.registerType('binary-serializer-g',{
        category: 'Game_control',
        color: '#F1BC03',
        defaults: {
            name: {value:""},
        },
        inputs:1,
        outputs:1,
        icon: "serial.png",
        label: function() {
            return this.name||"Binary serializer (G)";
        }
    });
</script>

<script type="text/x-red" data-template-name="binary-serializer-g">
	<div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-tips">
        <b>Tip:</b> Serialize DSL4GC(Gamepad) to byte[], then output via UART.<br>
    </div>        
</script>

<script type="text/x-red" data-help-name="binary-serializer">
    <p>Serialize DSL4GC(Gamepad) to byte[], then output via UART.</p>
</script>

<!-- ----------------------------------------------------------------------------------- -->
<!-- <script type="text/javascript">
    RED.nodes.registerType('button-map',{
        category: 'Game_control',
        color: '#F1BC03',
        defaults: {
            remap0:  {value: 0, required:true},
            remap1:  {value: 1, required:true},
            remap2:  {value: 2, required:true},
            remap3:  {value: 3, required:true},
            remap4:  {value: 4, required:true},
            remap5:  {value: 5, required:true},
            remap6:  {value: 6, required:true},
            remap7:  {value: 7, required:true},
            remap8:  {value: 8, required:true},
            remap9:  {value: 9, required:true},
            remap10: {value: 10, required:true},
            remap11: {value: 11, required:true},
            name: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "function.png",
        label: function() {
            return this.name||"Button remapping";
        }
    });
</script>

<script type="text/x-red" data-template-name="button-map">
    <div class="form-row">
        <label for="node-input-remap0" style="width:150px;"><i class="fa fa-random"></i> New Button-0 from </label>
        <input type="number" id="node-input-remap0" min=0 max=11 value=0 style="width:240px;"">
    </div>
    <div class="form-row">
        <label for="node-input-remap1" style="width:120px;"><i class="fa fa-random"></i> Button 1 from </label>
        <input type="number" id="node-input-remap1" min=0 max=11 value=1 style="width:290px;">
    </div>
    <div class="form-row">
        <label for="node-input-remap2" style="width:120px;"><i class="fa fa-random"></i> Button 2 from </label>
        <input type="number" id="node-input-remap2" min=0 max=11 value=2 style="width:290px;">
    </div>
    <div class="form-row">
        <label for="node-input-remap3" style="width:120px;"><i class="fa fa-random"></i> Button 3 from </label>
        <input type="number" id="node-input-remap3" min=0 max=11 value=3 style="width:290px;">
    </div>
    <div class="form-row">
        <label for="node-input-remap4" style="width:120px;"><i class="fa fa-random"></i> Button 4 from </label>
        <input type="number" id="node-input-remap4" min=0 max=11 value=4 style="width:290px;">
    </div>
    <div class="form-row">
        <label for="node-input-remap5" style="width:120px;"><i class="fa fa-random"></i> Button 5 from </label>
        <input type="number" id="node-input-remap5" min=0 max=11 value=5 style="width:290px;">
    </div>
    <div class="form-row">
        <label for="node-input-remap6" style="width:120px;"><i class="fa fa-random"></i> Button 6 from </label>
        <input type="number" id="node-input-remap6" min=0 max=11 value=6 style="width:290px;">
    </div>
    <div class="form-row">
        <label for="node-input-remap7" style="width:120px;"><i class="fa fa-random"></i> Button 7 from </label>
        <input type="number" id="node-input-remap7" min=0 max=11 value=7 style="width:290px;">
    </div>
    <div class="form-row">
        <label for="node-input-remap8" style="width:120px;"><i class="fa fa-random"></i> Button 8 from </label>
        <input type="number" id="node-input-remap8" min=0 max=11 value=8 style="width:290px;">
    </div>
    <div class="form-row">
        <label for="node-input-remap9" style="width:120px;"><i class="fa fa-random"></i> Button 9 from </label>
        <input type="number" id="node-input-remap9" min=0 max=11 value=9 style="width:290px;">
    </div>
    <div class="form-row">
        <label for="node-input-remap10" style="width:120px;"><i class="fa fa-random"></i> Button 10 from </label>
        <input type="number" id="node-input-remap10" min=0 max=11 value=10 style="width:290px;">
    </div>
    <div class="form-row">
        <label for="node-input-remap11" style="width:120px;"><i class="fa fa-random"></i> Button 11 from </label>
        <input type="number" id="node-input-remap11" min=0 max=11 value=11 style="width:290px;">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-tips">
        <b>Tip:</b> Button remapping (max 12 buttons).
    </div>
</script>

<script type="text/x-red" data-help-name="button-map">
    <p>Button remapping.</p>
</script> -->
